<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<title>TP algorithmie</title>
	<style>
		.civilite-form div{
			width: 380px;
			display: flex;
			justify-content: space-between;
		}
		.civilite-form div input{
			width: 220px;
		}
		.civilite-form div label input{
			width: auto;
		}
		.element-hidden {
			display: none !important;
		}
		.element-shown {
			display: flex;
		}
	</style>
</head>
<body>
	<form class="civilite-form" id="formEleveur">
		<div>
			<select id="civilite" name="civilite" onchange="selectChanged()">
				<option value="1">Mr</option>
				<option value="2">Mme</option>
			</select>
		</div>
		<div>
			<label for="lastName">Nom :</label>
			<input type="text" name="lastName"/></div>
		<div id="girlNameCont" class="element-hidden">
			<label for="girlName">Nom de jeune fille :</label>
			<input type="text" name="girlName"/></div>
		<div>
			<label for="firstName">Prénom :</label>
			<input type="text" name="firstName"/></div>
		
		<!--
		PREMIER CHOIX-->
		<!--<div>
			<label>Etes vous eleveurs canins ?</label>
			<label>
			<input type="radio" name="eleveur" onclick="ouiFn()"/><span>Oui</span></label>
			<label>
			<input type="radio" name="eleveur" onclick="nonFn()" checked /><span>Non</span></label>
		</div>-->
		<!--
		DEUXIEME CHOIX-->
		<!--<div>
			<label>Etes vous eleveurs canins ?</label>
			<label>
			<input type="radio" name="eleveur" onclick="eleveurChoice(true)"/><span>Oui</span></label>
			<label>
			<input type="radio" name="eleveur" onclick="eleveurChoice(false)" checked /><span>Non</span></label>
		</div>-->
		<div>
			<label>Etes vous eleveurs canins ?</label>
			<label>
			<input type="radio" name="eleveur" value="1" onclick="eleveurOtherChoice(this)"/><span>Oui</span></label>
			<label>
			<input type="radio" name="eleveur" value="0" onclick="eleveurOtherChoice(this)" checked /><span>Non</span></label>
		</div>
		<div id="nbChiensCont" class="element-hidden">
			<select id="nbChiens" name="chien" onchange="choixChien()">
				<option value="0">moins de 2</option>
				<option value="1">entre 2 et 4</option>
				<option value="2">plus de quatre</option>
			</select>
		</div>
		
		
		<div><button type="button">Envoyer</button></div>
	</form>
<script>
	var selectChanged = function (){
		var selectEl = document.getElementById('civilite'),
			selection = selectEl.value,
			girlNameCont = document.getElementById('girlNameCont'),
			prop;
		if (selection == 1){
			prop = "element-hidden";
		}
		if (selection == 2){
			prop = "element-shown";			
		}
		girlNameCont.setAttribute("class",prop);
	};
	
	var nbChiensContEl = document.getElementById('nbChiensCont');
	var ouiFn = function(){
		nbChiensContEl.setAttribute("class","element-shown");
	};
	var nonFn = function(){
		nbChiensContEl.setAttribute("class","element-hidden");
	}
	
	var eleveurChoice = function(choix){
		var propro;
		if (choix === true){
			propro = "element-shown";	
		}else{
			propro = "element-hidden";
		}
		nbChiensContEl.setAttribute("class",propro);
	}
	
	var eleveurOtherChoice = function(el){
		var p;
		if (el.value == 1){
			p = "element-shown";	
		}else{
			p = "element-hidden";
		}
		nbChiensContEl.setAttribute("class",p);
	}
	
	var choixChien = function (){
		var selectEl = document.getElementById('nbChiens'),
			valueNbChiens = selectEl.value;
			console.log(valueNbChiens);
	};
	
	
// 1- réaliser un formulaire qui contient
//	un select pour Mr ou Mme
//  un input pour le nom
//  un input pour le nom de jeune fille
//  un input pout le prenom
//  un bouton de validation du formulaire
//	l'input pour le nom de jeune fille n'apparait que si 'Mme' est selectionné.
//  pour se faire on utilisera l'attribut HTML evenementiel 'onchange' sur le select
//  renseignez vous sur W3C pour voir le fonctionnement de onchange

// 1- Bis : Ajouter un champ radio permettant de savoir si la personne est propriétaire 
//	canin.
// 	si oui faire apparaitre un champ select permettant de choisir :
//	moins de 2 chiens
//  entre 2 et 4 chiens
//  plus de 4 chiens.
// vous devrez reussir a faire apparaitre le resultat de la selectBox dans la console. 
 
// 2- premier exercice algorithmique
// on souhaite realiser le jeu "pierre feuille ciseaux";
// comment peut-on s'y prendre ?
// expliquer avec du texte
// le joueur (utilisateur) choisi un chiffre entre 1 et 4 (equivalent à pierre, feuille, ciseaux)
// l'ordinateur choisi un chiffre entre 1 et 4 (equivalent à pierre, feuille, ciseaux)
// il dit qui a gagner !
	
	
	var tabChoix = ["pierre","feuille","ciseaux"];
	var j1 = { name : "ordinateur", choix : choisirAuto() };
	var j2 = { name : "joueur", choix : choisirManu() };
	donneResult(j1, j2);
	
	
	function choisirAuto (){
		var c = Math.random()*3;
		var i = Math.floor(c);
		return tabChoix[i];
	}
	
	function choisirManu (){
		var response = prompt('pierre, feuille, ciseaux ?');
		
		// ma response devient si elle existe response.trim() sinon je la laisse null;
		response = response ? response.trim() : null;
		
		if( response === 'Pierre'){
			response = 'pierre';
		}
		
		
		if (response !== 'pierre' && response !== 'feuille' && response !== 'ciseaux' ){
			return choisirManu();
		}
		return response;
	}
	
	function compare(j1, j2){
		var gagnant = null;
	
		if (j1.choix === j2.choix){ gagnant = null; }
		if (j1.choix === 'pierre' && j2.choix === 'feuille'){ gagnant = j2; }
		if (j1.choix === 'pierre' && j2.choix === 'ciseaux'){ gagnant = j1; }
		if (j1.choix === 'feuille' && j2.choix === 'ciseaux'){ gagnant = j2; }
		if (j1.choix === 'feuille' && j2.choix === 'pierre'){ gagnant = j1; }
		if (j1.choix === 'ciseaux' && j2.choix === 'pierre'){ gagnant = j2; }
		if (j1.choix === 'ciseaux' && j2.choix === 'feuille'){ gagnant = j1;}
		
		return gagnant;
	}
	function donneResult(j1, j2){
		var winner = compare(j1, j2);
		if (winner){
			console.log("le GAGNANT est "+ winner.name +" avec le choix "+winner.choix);
			console.log(j1.choix +"-"+ j2.choix);
		}else{
			console.log("EGALITE : "+ j1.choix +"/"+ j2.choix);
		}
	}
	











</script>
</body>
</html>